#!/bin/sh

out=$1

function message() {
  mv $out $out.tmp
  cat <<EOS > $out
$1
EOS
  cat $out.tmp >> $out
}

str=$(cat <<-EOS

ğŸ› :bug: fix bugs
ğŸ‘ :+1: improve function
âœ¨ :sparkles: add new function
â™»ï¸  :recycle: refactoring
ğŸš¿ :shower: delete unused function
ğŸ’š :green_heart: improve tests / CI
ğŸ‘• :shirt: fix Lint error / fix code style
ğŸš€ :rocket: improve performance
ğŸ†™ :up: update package information or libraries
EOS
)
emoji=$(echo "${str}" | fzf | awk 'match($0, /(:.*:)/) {print substr($0, RSTART, RLENGTH)}')
if [ -n "${emoji}" ]; then
  message ${emoji}
fi
